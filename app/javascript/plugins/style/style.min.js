ArticleEditor,ArticleEditor.add("plugin","style",{translations:{en:{style:{style:"Style","remove-style":"Remove Style"}}},defaults:{icon:'<svg height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="m.23081081 13.7264324c1.69475676-5.08427024 6.13010811-13.55729726 13.55729729-13.55729726-3.4818378 2.79356756-5.0854054 9.32059459-7.62583783 9.32059459h-2.54232432l-2.54194595 4.23783787h-.84718919z" transform="translate(1 1)"/></svg>',styles:{paragraph:{lead:{title:'<span style="font-size: 24px; color: #444;">Lead</span>',command:"style.toggle",params:{classname:"st-lead"}},note:{title:'<span style="background-color: #f6f6e9; color: #444;">Note</span>',command:"style.toggle",params:{classname:"st-note"}},accent:{title:'<span style="font-weight: bold; text-transform: uppercase;">Accent</span>',command:"style.toggle",params:{classname:"st-accent"}},remove:{title:"## style.remove-style ##",topdivider:!0,command:"style.remove"}},embed:{frame:{title:"Frame",command:"style.toggle",params:{classname:"st-embed-frame"}},raised:{title:"Raised",command:"style.toggle",params:{classname:"st-embed-raised"}},remove:{title:"## style.remove-style ##",topdivider:!0,command:"style.remove"}},line:{"black-extra-height":{title:'<span style="display: block; height: 4px; background: #000;"></span>',command:"style.toggle",params:{classname:"st-line-black-extra-height"}},"gray-dashed":{title:'<span style="display: block; border-top: 2px dashed #ccc;"></span>',command:"style.toggle",params:{classname:"st-line-gray-dashed"}},"blue-line":{title:'<span style="display: block; height: 2px; background: #458fff;"></span>',command:"style.toggle",params:{classname:"st-line-blue"}},remove:{title:"## style.remove-style ##",topdivider:!0,command:"style.remove"}}}},start:function(){var e=[];for(var t in this.opts.style.styles)e.push(t);this.app.toolbar.add("style",{title:"## style.style ##",icon:this.opts.style.icon,blocks:e,popup:{style:{type:"list",builder:"style.popup"}}})},popup:function(){var e=this.app.block.get(),t=e.getType(),s=this._getClasses(t),a=e.getClass(s);if(void 0!==this.opts.style.styles[t]){var l=this.opts.style.styles[t];for(var o in l)l[o].active=l[o].params&&l[o].params.classname===a;return void 0!==l.remove&&(l.remove.hidden=!1===a),l}},toggle:function(e){this.app.popup.close();var t=this.app.block.get(),s=t.getType();this._removeStyles(t,s),t.$block.addClass(e.params.classname),this.app.toolbar.build()},remove:function(e){this.app.popup.close();var t=this.app.block.get(),s=t.getType();this._removeStyles(t,s),this.app.toolbar.build()},_getClasses:function(e){var t=this.opts.style.styles[e],s=[];for(var a in t)t[a].params&&s.push(t[a].params.classname);return s},_removeStyles:function(e,t){var s=this._getClasses(t);e.$block.removeClass(s.join(" "))}});